import{pipeline as a}from"https://cdn.jsdelivr.net/npm/@xenova/transformers/dist/transformers.min.js";const c=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};c();let l=null;async function d(){const n=document.getElementById("status");n.textContent="Loading Flan-T5-small (may take ~50MB)...",l=await a("text2text-generation","Xenova/flan-t5-small"),n.textContent="Model loaded \u2705"}async function u(){if(!l){alert("Model not ready yet!");return}const n=document.getElementById("temp").value,o=document.getElementById("advice");o.textContent="Thinking...";const i=`You are a fashion assistant. Describe a full outfit for someone when the temperature is ${n}\xB0C. Include top, bottom, shoes, and optional accessories. Use complete sentences and friendly tone.`,r=await l(i,{max_new_tokens:2500,do_sample:!0,temperature:.9,top_k:40,top_p:.9});o.textContent=r[0].generated_text.trim()}window.onload=d;window.getAdvice=u;
